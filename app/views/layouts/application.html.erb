<!DOCTYPE html>
<html>
  <head prefix="og: https://ogp.me/ns#">
    <title><%= content_for(:title) || "App" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>
    
    <% og_title = content_for?(:og_title) ? yield(:og_title) : "Noshiru" %>
    <% og_description = content_for?(:og_description) ? yield(:og_description) : "うさぎ印の、のし検索サイト" %>
    <% og_image = content_for?(:og_image) ? yield(:og_image) : image_url("ogp_image.png") %>

    <meta property="og:title" content="<%= og_title %>" />
    <meta property="og:description" content="<%= og_description %>" />
    <meta property="og:image" content="<%= og_image %>" />
    <meta property="og:url" content="<%= request.original_url %>" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Noshiru"/>

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="<%= og_title %>">
    <meta name="twitter:description" content="<%= og_description %>">
    <meta name="twitter:image" content="<%= og_image %>">
    
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">

    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= turbo_include_tags %>
    <%= javascript_importmap_tags %>
    <!-- フォント -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;800&display=swap" rel="stylesheet">
  
    <!-- slick-carouselのCSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.css">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <!-- QuillのCSS（CDN） -->
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" />
  </head>

  <body class="m-plus-rounded-1c-regular overflow-x-hidden">
    <div class="min-h-screen bg-[#0f172a] w-full relative">
      <div
      class="absolute inset-0 z-0"
      style="background: radial-gradient(circle 600px at 50% 50%, rgba(59,130,246,0.3), transparent)"></div>
      <main class="flex-grow flex flex-col items-center justify-center mx-auto z-10 relative">
        <% if user_signed_in? %>
          <%= render 'shared/after_login_header' %>
        <% else %>
          <%= render 'shared/header' %>
        <% end %>
        <%= render 'shared/flash_message' %>
        <%= yield %>
        <%= render 'shared/footer' %>
      </main>
    </div>
  </body>
</html>
